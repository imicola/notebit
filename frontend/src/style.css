@tailwind base;
@tailwind components;
@tailwind utilities; 

@layer base {
  :root {
    /* Fonts */
    --font-interface: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    --font-text: "Maple Mono NF CN","SF Mono", "JetBrains Mono", "Segoe UI", Roboto, Helvetica, Arial, sans-serif;

    /* Theme Colors */
    --accent-h: 232;
    --accent-s: 40%;
    --accent-l: 60%;

    /* Color Temperature Adjustment (for eye protection) */
    --color-temp-adjust: 0%; /* Lightness adjustment based on color temperature */

    /* Text Colors */
    --text-normal: hsl(var(--accent-h), 15%, calc(85% + var(--color-temp-adjust)));
    --text-muted: hsl(var(--accent-h), 12%, calc(75% + var(--color-temp-adjust)));
    --text-faint: hsl(var(--accent-h), 9%, calc(50% + var(--color-temp-adjust)));
    --text-accent: hsl(calc(var(--accent-h) - 3), calc(var(--accent-s) * 1.02), calc(var(--accent-l) * 1.15));

    /* Background Colors */
    --background-primary: hsl(var(--accent-h), calc(var(--accent-s) / 5), calc(1.25*var(--accent-l) / 4.5));
    --background-primary-alt: hsl(var(--accent-h), calc(var(--accent-s) / 5), calc(1.25*var(--accent-l) / 3.9));
    --background-secondary: hsl(var(--accent-h), calc(var(--accent-s) / 5), calc(1.25*var(--accent-l) / 4.9));
    --background-secondary-alt: hsl(var(--accent-h), calc(var(--accent-s) / 5.4), calc(1.25*var(--accent-l) / 3));
    --background-modifier-hover: hsla(var(--accent-h), 12%, 40%, 0.25);
    
    /* Border Colors */
    --background-modifier-border: hsla(var(--accent-h), calc(0.4*var(--accent-s)), calc(0.9*var(--accent-l)), 0.2);
    --background-modifier-border-focus: hsla(var(--accent-h), calc(0.4*var(--accent-s)), calc(0.9*var(--accent-l)), 0.3);

    /* Accents (Obsidian Colors) */
    --color-red: rgb(255, 120, 129);
    --color-orange: rgb(251, 187, 131);
    --color-yellow: rgb(255, 232, 139);
    --color-green: rgb(124, 211, 124);
    --color-cyan: rgb(134, 223, 226);
    --color-blue: rgb(137, 189, 244);
    --color-purple: rgb(203, 158, 255);
    --color-pink: rgb(242, 182, 222);

    /* Design System - Graph Color Palette (Mixed approach) */
    --graph-color-primary: #1E88E5;
    --graph-color-secondary: #43A047;
    --graph-color-accent: #FF7043;
    --graph-color-neutral: #37474F;

    /* Spacing System (8px grid) */
    --spacing-xs: 0.25rem;   /* 4px */
    --spacing-sm: 0.5rem;    /* 8px */
    --spacing-md: 1rem;      /* 16px */
    --spacing-lg: 1.5rem;    /* 24px */
    --spacing-xl: 2rem;      /* 32px */
    --spacing-2xl: 3rem;     /* 48px */

    /* Shadow System (5-level elevation) */
    --shadow-1: 0 1px 2px rgba(0, 0, 0, 0.05);
    --shadow-2: 0 2px 4px rgba(0, 0, 0, 0.08);
    --shadow-3: 0 4px 8px rgba(0, 0, 0, 0.12);
    --shadow-4: 0 8px 16px rgba(0, 0, 0, 0.16);
    --shadow-5: 0 16px 32px rgba(0, 0, 0, 0.20);

    /* Border Radius System */
    --radius-sm: 0.25rem;    /* 4px */
    --radius-md: 0.5rem;     /* 8px */
    --radius-lg: 1rem;       /* 16px */
    --radius-full: 9999px;

    /* Transition System */
    --transition-fast: 150ms ease-out;
    --transition-base: 200ms ease-out;
    --transition-slow: 300ms ease-out;
  }

  /* Amber Theme - Warm eye protection theme */
  :root[data-theme="amber"] {
    --accent-h: 30;
    --accent-s: 80%;
    --accent-l: 50%;
    
    --text-normal: hsl(30, 30%, calc(85% + var(--color-temp-adjust)));
    --text-muted: hsl(30, 25%, calc(75% + var(--color-temp-adjust)));
    --text-faint: hsl(30, 20%, calc(50% + var(--color-temp-adjust)));
    --text-accent: hsl(28, 85%, 65%);
    
    --background-primary: hsl(30, 40%, 12%);
    --background-primary-alt: hsl(30, 40%, 15%);
    --background-secondary: hsl(30, 35%, 10%);
    --background-secondary-alt: hsl(30, 35%, 18%);
    --background-modifier-hover: hsla(30, 50%, 30%, 0.25);
    
    --background-modifier-border: hsla(30, 40%, 50%, 0.2);
    --background-modifier-border-focus: hsla(30, 40%, 50%, 0.3);
  }

  /* Forest Theme - Green eye protection theme */
  :root[data-theme="forest"] {
    --accent-h: 150;
    --accent-s: 40%;
    --accent-l: 45%;
    
    --text-normal: hsl(150, 25%, calc(85% + var(--color-temp-adjust)));
    --text-muted: hsl(150, 20%, calc(75% + var(--color-temp-adjust)));
    --text-faint: hsl(150, 15%, calc(50% + var(--color-temp-adjust)));
    --text-accent: hsl(150, 50%, 60%);
    
    --background-primary: hsl(150, 25%, 12%);
    --background-primary-alt: hsl(150, 25%, 15%);
    --background-secondary: hsl(150, 20%, 10%);
    --background-secondary-alt: hsl(150, 20%, 18%);
    --background-modifier-hover: hsla(150, 30%, 30%, 0.25);
    
    --background-modifier-border: hsla(150, 30%, 50%, 0.2);
    --background-modifier-border-focus: hsla(150, 30%, 50%, 0.3);
  }

  /* Space Theme - Dark gray eye protection theme */
  :root[data-theme="space"] {
    --accent-h: 220;
    --accent-s: 20%;
    --accent-l: 40%;
    
    --text-normal: hsl(220, 15%, calc(85% + var(--color-temp-adjust)));
    --text-muted: hsl(220, 12%, calc(75% + var(--color-temp-adjust)));
    --text-faint: hsl(220, 10%, calc(50% + var(--color-temp-adjust)));
    --text-accent: hsl(220, 25%, 65%);
    
    --background-primary: hsl(220, 18%, 10%);
    --background-primary-alt: hsl(220, 18%, 13%);
    --background-secondary: hsl(220, 15%, 8%);
    --background-secondary-alt: hsl(220, 15%, 16%);
    --background-modifier-hover: hsla(220, 20%, 25%, 0.25);
    
    --background-modifier-border: hsla(220, 20%, 40%, 0.2);
    --background-modifier-border-focus: hsla(220, 20%, 40%, 0.3);
  }

  html,
  body {
    @apply h-full w-full overflow-hidden antialiased;
    background-color: var(--background-primary);
    color: var(--text-normal);
    transition: background-color 0.3s ease, color 0.3s ease;
  }

  #root {
    @apply h-full w-full;
  }
}

@layer components {
  /* Scrollbar styling */
  ::-webkit-scrollbar {
    @apply w-2 h-2;
  }

  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  ::-webkit-scrollbar-thumb {
    background-color: var(--background-modifier-border);
    @apply rounded-full;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    background-color: var(--background-modifier-border-focus);
  }
}

@layer utilities {
  /* Callouts */
  .callout {
    border: 1px solid var(--background-modifier-border);
    background-color: var(--background-primary-alt);
    padding: 1rem;
    border-radius: 0.5rem;
    margin: 1rem 0;
    border-left: 4px solid var(--callout-color, var(--text-normal));
  }

  .callout-title {
    font-weight: bold;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--callout-color, var(--text-normal));
    margin-bottom: 0.5rem;
  }
  
  .callout-content p:last-child {
    margin-bottom: 0;
  }

  .callout[data-callout="info"], .callout[data-callout="todo"] { --callout-color: var(--color-blue); }
  .callout[data-callout="warning"], .callout[data-callout="caution"] { --callout-color: var(--color-orange); }
  .callout[data-callout="error"], .callout[data-callout="danger"], .callout[data-callout="bug"] { --callout-color: var(--color-red); }
  .callout[data-callout="success"], .callout[data-callout="done"] { --callout-color: var(--color-green); }
  .callout[data-callout="note"] { --callout-color: var(--color-blue); }
  .callout[data-callout="tip"], .callout[data-callout="hint"] { --callout-color: var(--color-cyan); }
  .callout[data-callout="example"] { --callout-color: var(--color-purple); }
  .callout[data-callout="quote"] { --callout-color: var(--text-muted); }

  /* Map GitHub Alerts to Obsidian Callout Styles */
  .markdown-alert {
    @apply callout;
  }
  
  .markdown-alert-title {
    @apply callout-title;
  }
  
  .markdown-alert-note { --callout-color: var(--color-blue); }
  .markdown-alert-tip { --callout-color: var(--color-green); }
  .markdown-alert-important { --callout-color: var(--color-purple); }
  .markdown-alert-warning { --callout-color: var(--color-orange); }
  .markdown-alert-caution { --callout-color: var(--color-red); }

  /* Wiki Link Highlight Animation */
  @keyframes wikiLinkHighlight {
    0% {
      background-color: var(--color-purple);
      opacity: 0.5;
    }
    50% {
      background-color: var(--color-purple);
      opacity: 0.3;
    }
    100% {
      background-color: transparent;
      opacity: 0;
    }
  }

  .wiki-link-highlight {
    animation: wikiLinkHighlight 2s ease-out;
  }

  /* Ripple Animation for Buttons */
  @keyframes ripple {
    to {
      transform: scale(4);
      opacity: 0;
    }
  }

  .ripple-container {
    overflow: hidden;
    position: relative;
  }

  /* Fade In Animation */
  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  /* Slide In Animation */
  @keyframes slideIn {
    from {
      transform: translateY(10px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  /* List Item Hover Effect */
  .list-item-hover {
    transition: transform var(--transition-base), box-shadow var(--transition-base);
  }

  .list-item-hover:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-3);
  }

  /* Button Ripple Base Styles */
  button.ripple-button {
    position: relative;
    overflow: hidden;
  }

  /* Toggle Switch Animation */
  .toggle-switch {
    transition: background-color var(--transition-base);
  }

  .toggle-switch-handle {
    transition: transform var(--transition-base);
  }
}


